<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<!-- MODIFIED HEAD
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Sunlight</title>
<link href="css/style.css" media="all" rel="stylesheet" type="text/css"/>
-->
<script>
  window.nodeRequire = require;
  delete window.require;
  delete window.exports;
  delete window.module;
  $("input").tagsinput('')
</script>
<script type="text/javascript" src="js/jquery-1.12.4.js"></script>
<script type="text/javascript" src="js/jsOAuth-1.3.7.min.js"></script>
<script type="text/javascript" src="js/thriftjs.js"></script>
<!-- oauth -->
<script type="text/javascript" src="auth.js"></script>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Sunlight</title>
<!-- <link rel="stylesheet" href="./css/jquery.flipster.min.css"> -->
<!-- Basic Page Needs
================================================== -->
<meta charset="utf-8">
<!-- SEO Meta
================================================== -->
<meta name="description" content="">
<meta name="keywords" content="">
<meta name="distribution" content="global">
<meta name="revisit-after" content="2 Days">
<meta name="robots" content="ALL">
<meta name="rating" content="8 YEARS">
<meta name="Language" content="en-us">
<meta http-equiv="reply-to" content="">
<meta name="GOOGLEBOT" content="NOARCHIVE">
<!-- Mobile Specific Metas
================================================== -->
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<!-- CSS
================================================== -->
<link rel="stylesheet" href="css/style.css">
<link rel="stylesheet" href="css/bootstrap-tagsinput.css">
<link rel="stylesheet" href="https://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
<!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
<!-- Favicons
  ================================================== -->
<link rel="shortcut icon" href="images/favicon.ico">
<link rel="apple-touch-icon" href="images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
<!--[if gte IE 9]>
    <style type="text/css">
      .gradient {
         filter: none;
      }
    </style>
  <![endif]-->
<!-- JS
  ================================================== -->

</head>



<body style="overflow: hidden">
  <!-- escape key -->
  <script>
    $(document).keydown(function(e) {
      // ESCAPE key pressed
      if (e.keyCode == 27) {
        window.close();
      }
    });
  </script>
  <!--escape key end-->
<div class="form-container">
 <h2>take a note.</h2>

<form>
 <label>
    <h4><img src="images/bulb.png">Title</h4>
    <input class="form-input" type="text" placeholder="what should we call it?" name="description" id="description" autofocus />
 </label>
  <label>
    <h4><img src="images/impact.png">Impact</h4>
    <input class="form-input" type="text" placeholder="how big could it be?" name="Impact" id="Impact" />
 </label>
  <label>
    <h4><img src="images/effect.png">Effort</h4>
    <input class="form-input" type="text" placeholder="how long will it take?" name="Effort" id="Effort" />
 </label>
 <label>
    <h4><img src="images/note.png">Notebook</h4>
    <select class="form-input" type="text" id="nname" tabindex="" name="clientVar" onkeypress="return searchKeyPress(event);">
      <option>choose a project</option>
    </select>
 </label>

<div id='priority'>
  <input class="btn-form" type="button" value="prioritize" id='prioritize' onclick="sunshine.prioritize()">
</div>
</form>

</div>

<!-- DRAG AND DROP -->








<div id="dragandrophandler">Add Files</div>
<br>
<div id="status1"></div>

   <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

<script>
function sendFileToServer(formData,status)
{
    var uploadURL ="http://webfolio.codeweavers.in/form/upload.php"; //Upload URL
    var extraData ={}; //Extra Data.
    var jqXHR=$.ajax({
            xhr: function() {
            var xhrobj = $.ajaxSettings.xhr();
            if (xhrobj.upload) {
                    xhrobj.upload.addEventListener('progress', function(event) {
                        var percent = 0;
                        var position = event.loaded || event.position;
                        var total = event.total;
                        if (event.lengthComputable) {
                            percent = Math.ceil(position / total * 100);
                        }
                        //Set progress
                        status.setProgress(percent);
                    }, false);
                }
            return xhrobj;
        },
    url: uploadURL,
    type: "POST",
    contentType:false,
    processData: false,
        cache: false,
        data: formData,
        success: function(data){
            status.setProgress(100);

            $("#status1").append("File upload Done<br>");
        }
    });

    status.setAbort(jqXHR);
}

var rowCount=0;
function createStatusbar(obj)
{
     rowCount++;
     var row="odd";
     if(rowCount %2 ==0) row ="even";
     this.statusbar = $("<div class='statusbar "+row+"'></div>");
     this.filename = $("<div class='filename'></div>").appendTo(this.statusbar);
     this.size = $("<div class='filesize'></div>").appendTo(this.statusbar);
     this.progressBar = $("<div class='progressBar'><div></div></div>").appendTo(this.statusbar);
     this.abort = $("<div class='abort'>Abort</div>").appendTo(this.statusbar);
     obj.after(this.statusbar);

    this.setFileNameSize = function(name,size)
    {
        var sizeStr="";
        var sizeKB = size/1024;
        if(parseInt(sizeKB) > 1024)
        {
            var sizeMB = sizeKB/1024;
            sizeStr = sizeMB.toFixed(2)+" MB";
        }
        else
        {
            sizeStr = sizeKB.toFixed(2)+" KB";
        }

        this.filename.html(name);
        this.size.html(sizeStr);
    }
    this.setProgress = function(progress)
    {
        var progressBarWidth =progress*this.progressBar.width()/ 100;
        this.progressBar.find('div').animate({ width: progressBarWidth }, 10).html(progress + "% ");
        if(parseInt(progress) >= 100)
        {
            this.abort.hide();
        }
    }
    this.setAbort = function(jqxhr)
    {
        var sb = this.statusbar;
        this.abort.click(function()
        {
            jqxhr.abort();
            sb.hide();
        });
    }
}
function handleFileUpload(files,obj)
{
   for (var i = 0; i < files.length; i++)
   {
        var fd = new FormData();
        fd.append('file', files[i]);

        var status = new createStatusbar(obj); //Using this we can set progress.
        status.setFileNameSize(files[i].name,files[i].size);
        sendFileToServer(fd,status);

   }
}
$(document).ready(function()
{
var obj = $("#dragandrophandler");
obj.on('dragenter', function (e)
{
    e.stopPropagation();
    e.preventDefault();
    $(this).css('border', '2px solid #0B85A1');
});
obj.on('dragover', function (e)
{
     e.stopPropagation();
     e.preventDefault();
});
obj.on('drop', function (e)
{

     $(this).css('border', '2px dotted #0B85A1');
     e.preventDefault();
     var files = e.originalEvent.dataTransfer.files;

     //We need to send dropped files to Server
     handleFileUpload(files,obj);
});
$(document).on('dragenter', function (e)
{
    e.stopPropagation();
    e.preventDefault();
});
$(document).on('dragover', function (e)
{
  e.stopPropagation();
  e.preventDefault();
  obj.css('border', '2px dotted #0B85A1');
});
$(document).on('drop', function (e)
{
    e.stopPropagation();
    e.preventDefault();
});

});
</script>
<!-- drag and drop end -->


</body>
<script src="js/bootstrap-tagsinput.min.js"></script>
<script src="https://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
<script>
  $(document).ready(function() {
    $(function() {
      $("#datepicker").datepicker();
      $(".top_circle_content").append($("#ui-datepicker-div"));
    });

    var settings = $('.add_details_content_button '),
      menu = $('.context_div_bg ');
    settings.on('click ', function() {
      menu.fadeToggle('fast ');
      return false;
    });
  });

  $('.add_details_content_button ').click(function() {
    $(this).toggleClass('active ');
    $('.container ').toggleClass('nobgimage ');
    return false;
  });
</script>

<script type="text/javascript">
  $(document).ready(function() {
    $(".dropdown img.flag").addClass("flagvisibility");

    $(".dropdown dt a").click(function() {
      $(".dropdown dd ul").toggle();
      return false;
    });

    $(".dropdown dd ul li a").click(function() {
      var text = $(this).html();
      $(".dropdown dt a span").html(text);
      $(".dropdown dd ul").hide();
      $("#result").html("Selected value is:" + getSelectedValue("sample"));
    });

    function getSelectedValue(id) {
      return $("#" + id).find("dt a span.value").html();
    }

    $(document).bind('click ', function(e) {
      var $clicked = $(e.target);
      if (!$clicked.parents().hasClass("dropdown"))
        $(".dropdown dd ul").hide();
    });


    $("#flagSwitcher").click(function() {
      $(".dropdown img.flag").toggleClass("flagvisibility");
    });

  });
</script>
<script type="text/javascript" src="app.js"></script>
<script>
function searchKeyPress(e)
{
// look for window.event in case event isn't passed in
e = e || window.event;
if (e.keyCode == 13)
{
    document.getElementById('prioritize').click();
    return false;
}
return true;
}
</script>
</html>
